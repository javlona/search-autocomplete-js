<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Search Autocomplete</title>
    <!-- Included some basic styling, change at will -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.rawgit.com/prampcontent/3ea04cbd0f61a798e96afbe5d31ec2f9/raw/e879e32222b543b29a168daa089e2f9f28cf9eb2/autocomplete.css">
</head>

<body>
    <form class="search-form">
        <input type="text" class="search-input" placeholder="Start typing a movie title...">
        <ul class="results"></ul>
    </form>
    <!-- Helper code to provide a search API for mock data -->
    <script
        src="https://cdn.rawgit.com/prampcontent/180077452f9279073cab1035f60d30cf/raw/9cbf891a80bad9ad09c6261ef9578a65502922cc/search_helper.js">
    </script>
    <script>
        const searchEl = document.querySelector('.search-input');
        const resultEl = document.querySelector('.results');

        // Convert search results into UI suggestions
        function getData(query) {
            searchData(query).then(res => {
                let data = res.map(item => `
                    <li>
                        <span>${item.title}</span>
                        <span>${item.rating}</span>
                    </li>
                `);
                console.log(data.join(''));
                resultEl.innerHTML = data.join('');
            })
        }

        // Pass 
        function changeHandler() {
            return getData(this.value);
        }

        // Register for both events
        searchEl.addEventListener('change', changeHandler);
        searchEl.addEventListener('keyup', changeHandler);
    </script>
</body>

</html>